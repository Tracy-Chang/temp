var AceTemplate=AceTemplate||{};(function(){var d={log:function(h){window.console&&console.log(h)}};var f={"quot":'"',"lt":"<","gt":">","amp":"&","nbsp":" "};var c={'"':"quot","<":"lt",">":"gt","&":"amp"," ":"nbsp"};var g={g:function(h){if(typeof h!="string"){return h}return document.getElementById(h)},decodeHTML:function(h){return String(h).replace(/&(quot|lt|gt|amp|nbsp);/ig,function(j,i){return f[i]}).replace(/&#u([a-f\d]{4});/ig,function(i,j){return String.fromCharCode(parseInt("0x"+j))}).replace(/&#(\d+);/ig,function(i,j){return String.fromCharCode(+j)})},encodeHTML:function(h){return String(h).replace(/["<>& ]/g,function(i){return"&"+c[i]+";"})},elementText:function(h){if(!h||!h.tagName){return""}if(/^(input|textarea)$/i.test(h.tagName)){return h.value}return g.decodeHTML(h.innerHTML)}};var a={};var e=false;function b(j){var i=[],k=[];i.push("with(this){");i.push(j.replace(/[\r\n]+/g,"\n").replace(/^\n+|\s+$/mg,"").replace(/((^\s*[<>!#^&\u0000-\u0008\u007F-\uffff].*$|^.*[<>]\s*$|^(?!\s*(else|do|try|finally)\s*$)[^'":;,\[\]{}()\n\/]+$|^(\s*(([\w-]+\s*=\s*"[^"]*")|([\w-]+\s*=\s*'[^']*')))+\s*$|^\s*([.#][\w-.]+(:\w+)?(\s*|,))*(?!(else|do|while|try|return)\b)[.#]?[\w-.*]+(:\w+)?\s*\{.*$)\s?)+/mg,function(l){l=['"',l.replace(/&none;/g,"").replace(/["'\\]/g,"\\$&").replace(/\n/g,"\\n").replace(/(!?#)\{(.*?)\}/g,function(p,m,o){o=o.replace(/\\n/g,"\n").replace(/\\([\\'"])/g,"$1");var n=/^[a-z$][\w+$]+$/i.test(o)&&!(/^(true|false|NaN|null|this)$/.test(o));return['",',n?["typeof ",o,'=="undefined"?"":'].join(""):"",(m=="#"?"_encode_":""),"(",o,'),"'].join("")}),'"'].join("").replace(/^"",|,""$/g,"");if(l){return["_output_.push(",l,");"].join("")}else{return""}}));i.push("}");var h=new Function("_output_","_encode_","helper",i.join(""));return h}AceTemplate.format=function(m,l,k){if(!m){return""}var h,j;if(typeof m=="object"&&m.tagName){j=m;m=j.getAttribute("id")}k=k||this;h=a[m];if(!h){if(!/[^\w-]/.test(m)){if(!j){j=g.g(m)}h=this.register(m,j)}else{h=b(m)}}var i=[];h.call(l||"",i,g.encodeHTML,k);return i.join("")};AceTemplate.register=function(m,l){if(!arguments.length&&!e){e=true;var h=document.getElementsByTagName("script");for(var k=0;k<h.length;k++){var j=h[k];if(/^(text\/template)$/i.test(j.getAttribute("type"))){var m=j.getAttribute("id");m&&arguments.callee.call(this,m,j)}}}if(!m){return}if(a[m]){return a[m]}if(typeof l!="string"){if(typeof l=="undefined"){l=g.g(m)}l=g.elementText(l)}return a[m]=b(l)};AceTemplate.unregister=function(h){delete a[h]}})();